<section class="tables-page-section">
  <div class="container">
    <div class="row mb-4 d-flex justify-content-between align-items-center">
      <!-- Section Title -->
      <div class="col-md-6">
        <div class="section_title text-left">
          <h2 style="font-size: 18px;">Employee Contact List</h2>
          <div class="brand_border">
            <i class="fa fa-minus" aria-hidden="true"></i>
            <i class="fas fa-handshake"></i>
            <i class="fa fa-minus" aria-hidden="true"></i>
          </div>
        </div>
      </div>

      
    </div>

    <!-- Search Box and Add Contact Button Container -->
    <div class="row mb-3 d-flex justify-content-between align-items-center">
     <div class="col-md-3">
        <input 
          type="text" 
          [(ngModel)]="searchTerm" 
          (ngModelChange)="onSearch()" 
          class="form-control w-100" 
          placeholder="Search">
      </div>

     <div class="col-md-3 text-right">
        <!-- <button class="btn btn-primary" style="margin-right: 1px;" (click)="navigateToAddContact()">
          <i class="fas fa-plus" style="margin-right: 8px;"></i> Add Contact
        </button> -->
        <button class="btn btn-primary" (click)="openAddContactModal()">
          <i class="fas fa-plus"></i> Add Contact
        </button>
      </div>
    </div>

    <!-- Table -->
    <div class="row">
      <div class="col-sm-12">
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>S.No</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Address</th>
                <th>Country</th>
                <th>State</th>
                <th>City</th>
                <th>Postal Code</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let contact of filteredContacts; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ contact.firstName }}</td>
                <td>{{ contact.lastName }}</td>
                <td>{{ contact.email }}</td>
                <td>{{ contact.phoneNumber }}</td>
                <td>{{ contact.address }}</td>
                <td>{{ contact.country }}</td>
                <td>{{ contact.state }}</td>
                <td>{{ contact.city }}</td>
                <td>{{ contact.postalCode }}</td>
                <td>
                  <button class="btn btn-warning btn-sm" (click)="editContact(contact.contactID ?? 0)">
                    <i class="fas fa-pencil-alt" style="margin-right: 8px;"></i>
                  </button>
                  <!-- <button class="btn btn-warning btn-sm" (click)="openEditModal(contact)">
                    <i class="fas fa-pencil-alt" style="margin-right: 8px;"></i> 
                  </button> -->
                  <!-- <button class="btn btn-danger btn-sm" (click)="deleteContact(contact.contactID ?? 0)">
                    <i class="fas fa-trash-alt" style="margin-right: 8px;"></i> 
                  </button> -->
                  <button class="btn btn-danger btn-sm" (click)="confirmDelete(contact.contactID ?? 0)">
                    <i class="fas fa-trash-alt" style="margin-right: 8px;"></i> 
                  </button>

                </td>
              </tr>
            </tbody>
          </table>
        </div>


        <div *ngIf="isBrowser">
        <div #addContactModal class="modal fade" tabindex="-1" aria-labelledby="addContactModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="addContactModalLabel">Add Contact</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">&times;</button>
              </div>
              <div class="modal-body">
                <app-addcontact (contactAdded)="fetchContacts()"></app-addcontact>
              </div>
            </div>
          </div>
      </div>
    </div>










      </div>
    </div>


  </div>
</section>





